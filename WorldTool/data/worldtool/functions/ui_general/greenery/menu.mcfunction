# Called by worldtool:ui_general/greenery/load
# Displays the greenery menu

function worldtool:ui/clear_chat
tag @s add wt.menu.greenery
tag @s add wt.allow_input

execute unless score @s wt.greenery_rate matches 0..100 run scoreboard players set @s wt.greenery_rate 50

function worldtool:ui_general/back_button

tellraw @s ["",{"nbt":"Translation.\"label.greenery.rate\"","storage": "worldtool:storage","hoverEvent": {"action": "show_text","contents": {"nbt":"Translation.\"label.greenery.rate.description\"","storage": "worldtool:storage"}}},{"nbt":"Translation.\"button.decrease.name\"","storage": "worldtool:storage","color": "light_purple","bold": true,"hoverEvent": {"action": "show_text","contents": {"nbt": "Translation.\"button.greenery.rate.decrease.description\"","storage": "worldtool:storage"}},"clickEvent": {"action": "run_command","value": "/function worldtool:ui_general/greenery/settings/rate_decrease"}},{"score":{"name": "@s","objective": "wt.greenery_rate"},"color": "gold"},{"nbt":"Translation.\"button.increase.name\"","storage": "worldtool:storage","color": "light_purple","bold": true,"hoverEvent": {"action": "show_text","contents": {"nbt": "Translation.\"button.greenery.rate.increase.description\"","storage": "worldtool:storage"}},"clickEvent": {"action": "run_command","value": "/function worldtool:ui_general/greenery/settings/rate_increase"}},"  ",{"nbt":"Translation.\"button.set_value.name\"","storage": "worldtool:storage","color": "green","hoverEvent": {"action": "show_text","contents": {"nbt":"Translation.\"button.set_value.description\"","storage": "worldtool:storage"}},"clickEvent": {"action": "suggest_command","value": "/summon item ~ ~ ~ {Tags:[worldtool,wt.selected_data],PickupDelay:32767s,Item:{id:\"minecraft:stick\",Count:1b,tag:{WorldTool:{ Rate:50 }}}}"}}]
tellraw @s[tag=!wt.greenery.remove_current,tag=!wt.two_block_query.normal,tag=!wt.two_block_query.exclude] [{"nbt":"Translation.\"button.greenery.remove_current.off\"","storage": "worldtool:storage","color": "light_purple","hoverEvent": {"action": "show_text","contents": {"nbt":"Translation.\"button.greenery.remove_current.description\"","storage": "worldtool:storage"}},"clickEvent": {"action": "run_command","value": "/function worldtool:ui_general/greenery/settings/remove_current_toggle"}}," ",{"nbt":"Translation.\"button.replace.off\"","storage": "worldtool:storage","color": "gold","hoverEvent": {"action": "show_text","contents": {"nbt":"Translation.\"button.greenery.replace.description\"","storage": "worldtool:storage"}},"clickEvent": {"action": "run_command","value": "/function worldtool:ui_general/greenery/replace_on"}}]
tellraw @s[tag=wt.greenery.remove_current,tag=!wt.two_block_query.normal,tag=!wt.two_block_query.exclude] [{"nbt":"Translation.\"button.greenery.remove_current.on\"","storage": "worldtool:storage","color": "light_purple","hoverEvent": {"action": "show_text","contents": {"nbt":"Translation.\"button.greenery.remove_current.description\"","storage": "worldtool:storage"}},"clickEvent": {"action": "run_command","value": "/function worldtool:ui_general/greenery/settings/remove_current_toggle"}}," ",{"nbt":"Translation.\"button.replace.off\"","storage": "worldtool:storage","color": "gold","hoverEvent": {"action": "show_text","contents": {"nbt":"Translation.\"button.greenery.replace.description\"","storage": "worldtool:storage"}},"clickEvent": {"action": "run_command","value": "/function worldtool:ui_general/greenery/replace_on"}}]
execute unless entity @s[tag=!wt.two_block_query.normal,tag=!wt.two_block_query.exclude] run tellraw @s[tag=!wt.greenery.remove_current] [{"nbt":"Translation.\"button.greenery.remove_current.off\"","storage": "worldtool:storage","color": "light_purple","hoverEvent": {"action": "show_text","contents": {"nbt":"Translation.\"button.greenery.remove_current.description\"","storage": "worldtool:storage"}},"clickEvent": {"action": "run_command","value": "/function worldtool:ui_general/greenery/settings/remove_current_toggle"}}," ",{"nbt":"Translation.\"button.replace.on\"","storage": "worldtool:storage","color": "gold","hoverEvent": {"action": "show_text","contents": {"nbt":"Translation.\"button.greenery.replace.description\"","storage": "worldtool:storage"}},"clickEvent": {"action": "run_command","value": "/function worldtool:ui_general/greenery/replace_off"}}]
execute unless entity @s[tag=!wt.two_block_query.normal,tag=!wt.two_block_query.exclude] run tellraw @s[tag=wt.greenery.remove_current] [{"nbt":"Translation.\"button.greenery.remove_current.on\"","storage": "worldtool:storage","color": "light_purple","hoverEvent": {"action": "show_text","contents": {"nbt":"Translation.\"button.greenery.remove_current.description\"","storage": "worldtool:storage"}},"clickEvent": {"action": "run_command","value": "/function worldtool:ui_general/greenery/settings/remove_current_toggle"}}," ",{"nbt":"Translation.\"button.replace.on\"","storage": "worldtool:storage","color": "gold","hoverEvent": {"action": "show_text","contents": {"nbt":"Translation.\"button.greenery.replace.description\"","storage": "worldtool:storage"}},"clickEvent": {"action": "run_command","value": "/function worldtool:ui_general/greenery/replace_off"}}]
tellraw @s ""

tellraw @s[tag=wt.greenery.source.plains] ["",{"nbt":"Translation.\"label.greenery.current_plant_source\"","storage": "worldtool:storage"},{"nbt":"Translation.\"plant_source.plains\"","storage": "worldtool:storage","color": "#13c4d1"}]
tellraw @s[tag=wt.greenery.source.sunflower_plains] ["",{"nbt":"Translation.\"label.greenery.current_plant_source\"","storage": "worldtool:storage"},{"nbt":"Translation.\"plant_source.sunflower_plains\"","storage": "worldtool:storage","color": "#13c4d1"}]
tellraw @s[tag=wt.greenery.source.flower_forest] ["",{"nbt":"Translation.\"label.greenery.current_plant_source\"","storage": "worldtool:storage"},{"nbt":"Translation.\"plant_source.flower_forest\"","storage": "worldtool:storage","color": "#13c4d1"}]
tellraw @s[tag=wt.greenery.source.taiga] ["",{"nbt":"Translation.\"label.greenery.current_plant_source\"","storage": "worldtool:storage"},{"nbt":"Translation.\"plant_source.taiga\"","storage": "worldtool:storage","color": "#13c4d1"}]
tellraw @s[tag=wt.greenery.source.desert] ["",{"nbt":"Translation.\"label.greenery.current_plant_source\"","storage": "worldtool:storage"},{"nbt":"Translation.\"plant_source.desert\"","storage": "worldtool:storage","color": "#13c4d1"}]
tellraw @s[tag=wt.greenery.source.ocean] ["",{"nbt":"Translation.\"label.greenery.current_plant_source\"","storage": "worldtool:storage"},{"nbt":"Translation.\"plant_source.ocean\"","storage": "worldtool:storage","color": "#13c4d1"}]
tellraw @s[tag=wt.greenery.source.warm_ocean] ["",{"nbt":"Translation.\"label.greenery.current_plant_source\"","storage": "worldtool:storage"},{"nbt":"Translation.\"plant_source.warm_ocean\"","storage": "worldtool:storage","color": "#13c4d1"}]

function #worldtool:addon/greenery/display_current_source

tellraw @s {"nbt":"Translation.\"button.change.name\"","storage": "worldtool:storage","color": "green","hoverEvent": {"action": "show_text","contents": {"nbt":"Translation.\"button.greenery.change_plant_source.description\"","storage": "worldtool:storage"}},"clickEvent": {"action": "run_command","value": "/function worldtool:ui_general/greenery/plant_sources/menu"}}

tellraw @s ["\n",{"nbt":"Translation.\"button.run.name\"","storage": "worldtool:storage","color": "yellow","hoverEvent": {"action": "show_text","contents": {"nbt":"Translation.\"button.greenery.run.description\"","storage": "worldtool:storage"}},"clickEvent": {"action": "run_command","value": "/function worldtool:ui_general/greenery/start"}}]
function worldtool:ui/close_button

function worldtool:ui/anti_feedback_chat_message/load
